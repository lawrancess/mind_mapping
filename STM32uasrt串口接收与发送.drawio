<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36 Edg/143.0.0.0" version="29.3.2">
  <diagram name="第 1 页" id="DNAOLYnRkK3Ktd3CKdD2">
    <mxGraphModel dx="1159" dy="628" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="yOf81Vim1Jes8GkkkVhE-1" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="USART的接收" vertex="1">
          <mxGeometry height="60" width="1220" x="-80" y="20" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-2" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="阻塞接收" vertex="1">
          <mxGeometry height="60" width="120" x="-260" y="210" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-38" edge="1" parent="1" source="yOf81Vim1Jes8GkkkVhE-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="yOf81Vim1Jes8GkkkVhE-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-41" edge="1" parent="1" source="yOf81Vim1Jes8GkkkVhE-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="yOf81Vim1Jes8GkkkVhE-40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-3" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="中断接收" vertex="1">
          <mxGeometry height="60" width="120" x="294" y="210" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-4" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="DMA接收" vertex="1">
          <mxGeometry height="60" width="120" x="1030" y="210" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-36" parent="1" style="text;whiteSpace=wrap;html=1;" value="&lt;table style=&quot;border-collapse: collapse; width: 640px; max-width: unset; color: rgb(15, 17, 21); font-family: quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 16px 10px 0px;&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font: 400 13px / 22px Menlo, Monaco, Consolas, &amp;quot;Cascadia Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;JetBrains Mono&amp;quot;, &amp;quot;Fira Code&amp;quot;, Cousine, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex;&quot;&gt;HAL_UART_Receive_IT()&lt;/code&gt;&lt;/td&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 16px;&quot;&gt;&lt;span&gt;启动中断接收&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 0px 10px 16px;&quot;&gt;&lt;span&gt;主程序/初始化后&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 16px 10px 0px;&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font: 400 13px / 22px Menlo, Monaco, Consolas, &amp;quot;Cascadia Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;JetBrains Mono&amp;quot;, &amp;quot;Fira Code&amp;quot;, Cousine, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex;&quot;&gt;HAL_UART_IRQHandler()&lt;/code&gt;&lt;/td&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 16px;&quot;&gt;&lt;span&gt;UART中断处理函数&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 0px 10px 16px;&quot;&gt;&lt;span&gt;中断服务函数中&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 16px 10px 0px;&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font: 400 13px / 22px Menlo, Monaco, Consolas, &amp;quot;Cascadia Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;JetBrains Mono&amp;quot;, &amp;quot;Fira Code&amp;quot;, Cousine, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex;&quot;&gt;HAL_UART_RxCpltCallback()&lt;/code&gt;&lt;/td&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 16px;&quot;&gt;&lt;span&gt;接收完成回调函数&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 0px 10px 16px;&quot;&gt;&lt;span&gt;用户自定义&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 16px 10px 0px;&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font: 400 13px / 22px Menlo, Monaco, Consolas, &amp;quot;Cascadia Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;JetBrains Mono&amp;quot;, &amp;quot;Fira Code&amp;quot;, Cousine, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex;&quot;&gt;HAL_UART_ErrorCallback()&lt;/code&gt;&lt;/td&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 16px;&quot;&gt;&lt;span&gt;错误回调函数&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 0px 10px 16px;&quot;&gt;&lt;span&gt;用户自定义（可选）&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" vertex="1">
          <mxGeometry height="210" width="560" x="-180" y="410" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-37" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="核心函数" vertex="1">
          <mxGeometry height="60" width="120" x="174" y="310" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-39" edge="1" parent="1" source="yOf81Vim1Jes8GkkkVhE-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.436;entryY=-0.015;entryDx=0;entryDy=0;entryPerimeter=0;" target="yOf81Vim1Jes8GkkkVhE-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-43" edge="1" parent="1" source="yOf81Vim1Jes8GkkkVhE-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="yOf81Vim1Jes8GkkkVhE-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-40" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="辅助函数" vertex="1">
          <mxGeometry height="60" width="120" x="430" y="310" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-42" parent="1" style="text;whiteSpace=wrap;html=1;" value="&lt;table style=&quot;border-collapse: collapse; width: 640px; max-width: unset; color: rgb(15, 17, 21); font-family: quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.12); font: 500 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; border-top: none; padding: 10px 16px 10px 0px; text-align: left;&quot;&gt;&lt;span&gt;函数名&lt;/span&gt;&lt;/th&gt;&lt;th style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.12); font: 500 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; border-top: none; padding: 10px 16px; text-align: left;&quot;&gt;&lt;span&gt;作用&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 16px 10px 0px;&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font: 400 13px / 22px Menlo, Monaco, Consolas, &amp;quot;Cascadia Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;JetBrains Mono&amp;quot;, &amp;quot;Fira Code&amp;quot;, Cousine, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex;&quot;&gt;HAL_UART_Init()&lt;/code&gt;&lt;/td&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 0px 10px 16px;&quot;&gt;&lt;span&gt;初始化UART&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 16px 10px 0px;&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font: 400 13px / 22px Menlo, Monaco, Consolas, &amp;quot;Cascadia Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;JetBrains Mono&amp;quot;, &amp;quot;Fira Code&amp;quot;, Cousine, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex;&quot;&gt;HAL_UART_MspInit()&lt;/code&gt;&lt;/td&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 0px 10px 16px;&quot;&gt;&lt;span&gt;MCU特定初始化（时钟/引脚）&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 16px 10px 0px;&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font: 400 13px / 22px Menlo, Monaco, Consolas, &amp;quot;Cascadia Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;JetBrains Mono&amp;quot;, &amp;quot;Fira Code&amp;quot;, Cousine, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex;&quot;&gt;HAL_NVIC_SetPriority()&lt;/code&gt;&lt;/td&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 0px 10px 16px;&quot;&gt;&lt;span&gt;设置中断优先级&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 16px 10px 0px;&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font: 400 13px / 22px Menlo, Monaco, Consolas, &amp;quot;Cascadia Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;JetBrains Mono&amp;quot;, &amp;quot;Fira Code&amp;quot;, Cousine, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex;&quot;&gt;HAL_NVIC_EnableIRQ()&lt;/code&gt;&lt;/td&gt;&lt;td style=&quot;border-bottom: 0.666667px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, Cantarell, &amp;quot;Open Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; min-width: 100px; max-width: min(30vw, 320px); padding: 10px 0px 10px 16px;&quot;&gt;&lt;span&gt;使能中断&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" vertex="1">
          <mxGeometry height="250" width="560" x="510" y="410" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-45" parent="1" style="ellipse;whiteSpace=wrap;html=1;" value="SOP" vertex="1">
          <mxGeometry height="80" width="430" x="139" y="670" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-48" edge="1" parent="1" source="yOf81Vim1Jes8GkkkVhE-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="yOf81Vim1Jes8GkkkVhE-45" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-49" connectable="0" parent="yOf81Vim1Jes8GkkkVhE-48" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="main.c" vertex="1">
          <mxGeometry relative="1" x="-0.0254" y="2" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-47" parent="1" style="text;whiteSpace=wrap;labelBackgroundColor=default;" value="// 1. 定义接收缓冲区&#xa;uint8_t rx_buffer[100];&#xa;uint8_t rx_data;&#xa;&#xa;&#xa;// 2. 初始化后调用启动接收&#xa;int main(void) {&#xa;    HAL_Init();&#xa;    SystemClock_Config();&#xa;    MX_GPIO_Init();&#xa;    MX_USART1_UART_Init();&#xa;    &#xa;    // 启动中断接收（单字节接收示例）&#xa;    HAL_UART_Receive_IT(&amp;huart1, &amp;rx_data, 1);&#xa;    &#xa;    while (1) {&#xa;        // 主循环&#xa;    }&#xa;}&#xa;&#xa;&#xa;// 3. 实现回调函数（放在main.c末尾）&#xa;void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart) {&#xa;    if (huart-&gt;Instance == USART1) {&#xa;        // 处理接收到的数据&#xa;        // 例如：存入缓冲区或触发处理&#xa;        static uint8_t index = 0;&#xa;        rx_buffer[index++] = rx_data;&#xa;        &#xa;        // 重新启动接收（重要！）&#xa;        HAL_UART_Receive_IT(&amp;huart1, &amp;rx_data, 1);&#xa;    }&#xa;}&#xa;&#xa;&#xa;// 4. 错误回调函数&#xa;void HAL_UART_ErrorCallback(UART_HandleTypeDef *huart) {&#xa;    // 处理错误，如超时、校验错误等&#xa;    // 重新初始化或恢复接收&#xa;    HAL_UART_Receive_IT(&amp;huart1, &amp;rx_data, 1);&#xa;}" vertex="1">
          <mxGeometry height="610" width="380" x="-180" y="850" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-52" edge="1" parent="1" source="yOf81Vim1Jes8GkkkVhE-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" target="yOf81Vim1Jes8GkkkVhE-45">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="465" y="800" />
              <mxPoint x="354" y="800" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-56" connectable="0" parent="yOf81Vim1Jes8GkkkVhE-52" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="usart.c" vertex="1">
          <mxGeometry relative="1" x="-0.7037" y="4" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-50" parent="1" style="text;whiteSpace=wrap;labelBackgroundColor=default;" value="// 1. 定义UART句柄（全局变量）&#xa;UART_HandleTypeDef huart1;&#xa;&#xa;&#xa;// 2. UART初始化函数&#xa;void MX_USART1_UART_Init(void) {&#xa;    huart1.Instance = USART1;&#xa;    huart1.Init.BaudRate = 115200;&#xa;    huart1.Init.WordLength = UART_WORDLENGTH_8B;&#xa;    huart1.Init.StopBits = UART_STOPBITS_1;&#xa;    huart1.Init.Parity = UART_PARITY_NONE;&#xa;    huart1.Init.Mode = UART_MODE_TX_RX;&#xa;    huart1.Init.HwFlowCtl = UART_HWCONTROL_NONE;&#xa;    huart1.Init.OverSampling = UART_OVERSAMPLING_16;&#xa;    &#xa;    if (HAL_UART_Init(&amp;huart1) != HAL_OK) {&#xa;        Error_Handler();&#xa;    }&#xa;}&#xa;&#xa;&#xa;// 3. MCU特定初始化（自动调用）&#xa;void HAL_UART_MspInit(UART_HandleTypeDef* uartHandle) {&#xa;    GPIO_InitTypeDef GPIO_InitStruct = {0};&#xa;    &#xa;    if(uartHandle-&gt;Instance == USART1) {&#xa;        // 使能时钟&#xa;        __HAL_RCC_USART1_CLK_ENABLE();&#xa;        __HAL_RCC_GPIOA_CLK_ENABLE();&#xa;        &#xa;        // 配置TX/RX引脚&#xa;        GPIO_InitStruct.Pin = GPIO_PIN_9|GPIO_PIN_10;&#xa;        GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;&#xa;        GPIO_InitStruct.Pull = GPIO_NOPULL;&#xa;        GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;&#xa;        GPIO_InitStruct.Alternate = GPIO_AF7_USART1;&#xa;        HAL_GPIO_Init(GPIOA, &amp;GPIO_InitStruct);&#xa;        &#xa;        // 配置中断&#xa;        HAL_NVIC_SetPriority(USART1_IRQn, 0, 0);&#xa;        HAL_NVIC_EnableIRQ(USART1_IRQn);&#xa;    }&#xa;}" vertex="1">
          <mxGeometry height="640" width="370" x="280" y="870" as="geometry" />
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-54" edge="1" parent="1" source="yOf81Vim1Jes8GkkkVhE-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" target="yOf81Vim1Jes8GkkkVhE-45">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="875" y="800" />
              <mxPoint x="354" y="800" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-57" connectable="0" parent="yOf81Vim1Jes8GkkkVhE-54" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="stm32fxxx_it.c" vertex="1">
          <mxGeometry relative="1" x="-0.7918" y="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yOf81Vim1Jes8GkkkVhE-51" parent="1" style="text;whiteSpace=wrap;labelBackgroundColor=default;" value="// 1. 包含必要的头文件&#xa;#include &quot;stm32fxxx_it.h&quot;&#xa;#include &quot;usart.h&quot;&#xa;&#xa;&#xa;// 2. USART中断服务函数（已自动生成）&#xa;void USART1_IRQHandler(void) {&#xa;    HAL_UART_IRQHandler(&amp;huart1);  // 必须调用这个函数&#xa;}&#xa;&#xa;&#xa;// 注：还可能需要的其他中断函数&#xa;void USART2_IRQHandler(void) { /* ... */ }&#xa;void USART3_IRQHandler(void) { /* ... */ }" vertex="1">
          <mxGeometry height="210" width="350" x="700" y="910" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
